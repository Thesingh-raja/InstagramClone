{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport FirebaseContext from '../context/firebase';\nexport default function useAuthListener() {\n  _s();\n\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('authUser')));\n  const {\n    firebase\n  } = useContext(FirebaseContext);\n  useEffect(() => {\n    const listener = firebase.auth().onAuthStateChanged(authUser => {\n      console.log(authUser);\n\n      if (authUser) {\n        console.log('helo');\n        localStorage.setItem('authUser', JSON.stringify(authUser));\n        setUser(authUser);\n      } else {\n        console.log('helo');\n        localStorage.removeItem('authUser');\n        setUser(null);\n      }\n    });\n    return () => listener();\n  }, [firebase]);\n  return {\n    user\n  };\n}\n\n_s(useAuthListener, \"og5KOqGEvEXX6clV2sRD6qnxvZ4=\");","map":{"version":3,"sources":["/Users/thesinghraja/Desktop/insta-clone/src/hooks/use-auth-listener.js"],"names":["useState","useEffect","useContext","FirebaseContext","useAuthListener","user","setUser","JSON","parse","localStorage","getItem","firebase","listener","auth","onAuthStateChanged","authUser","console","log","setItem","stringify","removeItem"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AAEA,eAAe,SAASC,eAAT,GAA2B;AAAA;;AACtC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAACO,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAD,CAAhC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAeT,UAAU,CAACC,eAAD,CAA/B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AAEZ,UAAMW,QAAQ,GAAGD,QAAQ,CAACE,IAAT,GAAgBC,kBAAhB,CAAoCC,QAAD,IAAc;AAC9DC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,UAAIA,QAAJ,EAAc;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAR,QAAAA,YAAY,CAACS,OAAb,CAAqB,UAArB,EAAiCX,IAAI,CAACY,SAAL,CAAeJ,QAAf,CAAjC;AACAT,QAAAA,OAAO,CAACS,QAAD,CAAP;AACH,OAJD,MAIO;AACHC,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAR,QAAAA,YAAY,CAACW,UAAb,CAAwB,UAAxB;AACAd,QAAAA,OAAO,CAAC,IAAD,CAAP;AACH;AACJ,KAXgB,CAAjB;AAYA,WAAO,MAAMM,QAAQ,EAArB;AACH,GAfQ,EAeN,CAACD,QAAD,CAfM,CAAT;AAiBA,SAAO;AAAEN,IAAAA;AAAF,GAAP;AACH;;GAtBuBD,e","sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport FirebaseContext from '../context/firebase';\n\nexport default function useAuthListener() {\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('authUser')));\n    const { firebase } = useContext(FirebaseContext);\n    \n    useEffect(() => {\n        \n        const listener = firebase.auth().onAuthStateChanged((authUser) => {\n            console.log(authUser)\n            if (authUser) {\n                console.log('helo')\n                localStorage.setItem('authUser', JSON.stringify(authUser));\n                setUser(authUser);\n            } else {\n                console.log('helo')\n                localStorage.removeItem('authUser');\n                setUser(null);\n            }\n        });\n        return () => listener();\n    }, [firebase]);\n    \n    return { user };\n}"]},"metadata":{},"sourceType":"module"}