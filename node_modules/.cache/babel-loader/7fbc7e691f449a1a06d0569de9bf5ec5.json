{"ast":null,"code":"var _jsxFileName = \"/Users/thesinghraja/Desktop/insta-clone/src/components/post/add-comment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport FirebaseContext from '../../context/firebase';\nimport UserContext from '../../context/user';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddComment(_ref) {\n  _s();\n\n  let {\n    docId,\n    comments,\n    setComments,\n    commentInput\n  } = _ref;\n  const [comment, setComment] = useState('');\n  const {\n    firebase,\n    FieldValue\n  } = useContext(FirebaseContext);\n  const {\n    user: {\n      displayName\n    }\n  } = useContext(UserContext);\n\n  const handleSubmitComment = event => {\n    event.preventDefault();\n    setComments([{\n      displayName,\n      comment\n    }, ...comments]);\n    setComment('');\n    return firebase.firestore().collection('photos').doc(docId).update({\n      comments: FieldValue.arrayUnion({\n        displayName,\n        comment\n      })\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"border-t border-gray\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"flex w-full justify-between pl-0 pr-5\",\n      onSubmit: event => comment.length >= 3 ? handleSubmitComment(event) : event.preventDefault(),\n      method: \"POST\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        \"aria-label\": \"Add a comment\",\n        autoComplete: \"off\",\n        className: \"text-sm text-gray w-full mr-3 py-5 px-4\",\n        type: \"text\",\n        name: \"add-comment\",\n        placeholder: \"Add a comment...\",\n        value: comment,\n        onChange: _ref2 => {\n          let {\n            target\n          } = _ref2;\n          return setComment(target.value);\n        },\n        ref: commentInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `text-sm font-bold text-blue-500 ${!comment && 'opacity-25'}`,\n        type: \"button\",\n        disabled: comment.length < 3,\n        onClick: handleSubmitComment,\n        children: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddComment, \"h3fXEHONz7NG4cVfSnO6LRElYeA=\");\n\n_c = AddComment;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddComment\");","map":{"version":3,"sources":["/Users/thesinghraja/Desktop/insta-clone/src/components/post/add-comment.js"],"names":["React","useState","useContext","FirebaseContext","UserContext","AddComment","docId","comments","setComments","commentInput","comment","setComment","firebase","FieldValue","user","displayName","handleSubmitComment","event","preventDefault","firestore","collection","doc","update","arrayUnion","length","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,OAAOC,eAAP,MAA4B,wBAA5B;AACA,OAAOC,WAAP,MAAwB,oBAAxB;;AAEA,eAAe,SAASC,UAAT,OAAoE;AAAA;;AAAA,MAAhD;AAAEC,IAAAA,KAAF;AAASC,IAAAA,QAAT;AAAmBC,IAAAA,WAAnB;AAAgCC,IAAAA;AAAhC,GAAgD;AAC/E,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM;AAAEW,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA2BX,UAAU,CAACC,eAAD,CAA3C;AACA,QAAM;AACFW,IAAAA,IAAI,EAAE;AAAEC,MAAAA;AAAF;AADJ,MAEFb,UAAU,CAACE,WAAD,CAFd;;AAIA,QAAMY,mBAAmB,GAAIC,KAAD,IAAW;AACnCA,IAAAA,KAAK,CAACC,cAAN;AAEAV,IAAAA,WAAW,CAAC,CAAC;AAAEO,MAAAA,WAAF;AAAeL,MAAAA;AAAf,KAAD,EAA2B,GAAGH,QAA9B,CAAD,CAAX;AACAI,IAAAA,UAAU,CAAC,EAAD,CAAV;AAEA,WAAOC,QAAQ,CACVO,SADE,GAEFC,UAFE,CAES,QAFT,EAGFC,GAHE,CAGEf,KAHF,EAIFgB,MAJE,CAIK;AACJf,MAAAA,QAAQ,EAAEM,UAAU,CAACU,UAAX,CAAsB;AAAER,QAAAA,WAAF;AAAeL,QAAAA;AAAf,OAAtB;AADN,KAJL,CAAP;AAOH,GAbD;;AAeA,sBACI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA,2BACI;AACI,MAAA,SAAS,EAAC,uCADd;AAEI,MAAA,QAAQ,EAAGO,KAAD,IACNP,OAAO,CAACc,MAAR,IAAkB,CAAlB,GAAsBR,mBAAmB,CAACC,KAAD,CAAzC,GAAmDA,KAAK,CAACC,cAAN,EAH3D;AAKI,MAAA,MAAM,EAAC,MALX;AAAA,8BAOI;AACI,sBAAW,eADf;AAEI,QAAA,YAAY,EAAC,KAFjB;AAGI,QAAA,SAAS,EAAC,yCAHd;AAII,QAAA,IAAI,EAAC,MAJT;AAKI,QAAA,IAAI,EAAC,aALT;AAMI,QAAA,WAAW,EAAC,kBANhB;AAOI,QAAA,KAAK,EAAER,OAPX;AAQI,QAAA,QAAQ,EAAE;AAAA,cAAC;AAAEe,YAAAA;AAAF,WAAD;AAAA,iBAAgBd,UAAU,CAACc,MAAM,CAACC,KAAR,CAA1B;AAAA,SARd;AASI,QAAA,GAAG,EAAEjB;AATT;AAAA;AAAA;AAAA;AAAA,cAPJ,eAkBI;AACI,QAAA,SAAS,EAAG,mCAAkC,CAACC,OAAD,IAAY,YAAa,EAD3E;AAEI,QAAA,IAAI,EAAC,QAFT;AAGI,QAAA,QAAQ,EAAEA,OAAO,CAACc,MAAR,GAAiB,CAH/B;AAII,QAAA,OAAO,EAAER,mBAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA+BH;;GArDuBX,U;;KAAAA,U","sourcesContent":["import React, { useState, useContext } from 'react';\nimport FirebaseContext from '../../context/firebase';\nimport UserContext from '../../context/user';\n\nexport default function AddComment({ docId, comments, setComments, commentInput }) {\n    const [comment, setComment] = useState('');\n    const { firebase, FieldValue } = useContext(FirebaseContext);\n    const {\n        user: { displayName }\n    } = useContext(UserContext);\n    \n    const handleSubmitComment = (event) => {\n        event.preventDefault();\n        \n        setComments([{ displayName, comment }, ...comments ]);\n        setComment('');\n        \n        return firebase\n            .firestore()\n            .collection('photos')\n            .doc(docId)\n            .update({\n                comments: FieldValue.arrayUnion({ displayName, comment })\n            });\n    }\n    \n    return (\n        <div className=\"border-t border-gray\">\n            <form\n                className=\"flex w-full justify-between pl-0 pr-5\"\n                onSubmit={(event) =>\n                    comment.length >= 3 ? handleSubmitComment(event) : event.preventDefault()\n                }\n                method=\"POST\"\n            >\n                <input\n                    aria-label=\"Add a comment\"\n                    autoComplete=\"off\"\n                    className=\"text-sm text-gray w-full mr-3 py-5 px-4\"\n                    type=\"text\"\n                    name=\"add-comment\"\n                    placeholder=\"Add a comment...\"\n                    value={comment}\n                    onChange={({ target }) => setComment(target.value)}\n                    ref={commentInput}\n                />\n                <button \n                    className={`text-sm font-bold text-blue-500 ${!comment && 'opacity-25'}`}\n                    type=\"button\"\n                    disabled={comment.length < 3}\n                    onClick={handleSubmitComment}\n                >\n                    Post\n                </button>\n            </form>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}