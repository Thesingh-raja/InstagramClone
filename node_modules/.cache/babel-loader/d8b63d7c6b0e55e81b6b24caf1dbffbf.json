{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport FirebaseContext from \"../context/firebase\";\nexport default function UseAuthListener() {\n  _s();\n\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('authUser')));\n  const {\n    firebase\n  } = useContext(FirebaseContext);\n  useEffect(() => {\n    const listener = firebase.auth().onAuthStateChanged(authUser => {\n      if (authUser) {\n        localStorage.setItem('authUser', JSON.stringify(authUser));\n        setUser(authUser);\n        console.log('if');\n      } else {\n        localStorage.removeItem('authUser');\n        setUser(null);\n        console.log('else');\n      }\n    });\n    return () => listener();\n  }, [firebase]);\n  console.log(user);\n  return {\n    user\n  };\n}\n\n_s(UseAuthListener, \"QHWRd/uV3ccJw9vKyLRFCzWT6vA=\");\n\n_c = UseAuthListener;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseAuthListener\");","map":{"version":3,"sources":["/Users/thesinghraja/Desktop/insta-clone/src/hooks/use-auth-listener.js"],"names":["useState","useEffect","useContext","FirebaseContext","UseAuthListener","user","setUser","JSON","parse","localStorage","getItem","firebase","listener","auth","onAuthStateChanged","authUser","setItem","stringify","console","log","removeItem"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAA+C,OAA/C;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AACA,eAAe,SAASC,eAAT,GACf;AAAA;;AACI,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAeN,QAAQ,CAACO,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAD,CAA7B;AACA,QAAM;AAACC,IAAAA;AAAD,MAAaT,UAAU,CAACC,eAAD,CAA7B;AAEAF,EAAAA,SAAS,CAAC,MACV;AACI,UAAMW,QAAQ,GAAED,QAAQ,CAACE,IAAT,GAAgBC,kBAAhB,CAAoCC,QAAD,IACnD;AACI,UAAIA,QAAJ,EACA;AACIN,QAAAA,YAAY,CAACO,OAAb,CAAqB,UAArB,EAAgCT,IAAI,CAACU,SAAL,CAAeF,QAAf,CAAhC;AACAT,QAAAA,OAAO,CAACS,QAAD,CAAP;AACAG,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACH,OALD,MAMI;AACAV,QAAAA,YAAY,CAACW,UAAb,CAAwB,UAAxB;AACAd,QAAAA,OAAO,CAAC,IAAD,CAAP;AACAY,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH;AACJ,KAbe,CAAhB;AAcA,WAAO,MAAKP,QAAQ,EAApB;AACH,GAjBQ,EAiBP,CAACD,QAAD,CAjBO,CAAT;AAkBAO,EAAAA,OAAO,CAACC,GAAR,CAAYd,IAAZ;AACA,SAAO;AAACA,IAAAA;AAAD,GAAP;AACH;;GAzBuBD,e;;KAAAA,e","sourcesContent":["import { useState, useEffect, useContext} from 'react'\nimport FirebaseContext from \"../context/firebase\";\nexport default function UseAuthListener()\n{\n    const [user,setUser]=useState(JSON.parse(localStorage.getItem('authUser')))\n    const {firebase} = useContext(FirebaseContext);\n\n    useEffect(()=>\n    {\n        const listener= firebase.auth().onAuthStateChanged((authUser)=>\n        {\n            if (authUser)\n            {\n                localStorage.setItem('authUser',JSON.stringify(authUser))\n                setUser(authUser);\n                console.log('if')\n            }\n            else{\n                localStorage.removeItem('authUser')\n                setUser(null)\n                console.log('else')\n            }\n        })\n        return ()=> listener()    \n    },[firebase])\n    console.log(user)\n    return {user}\n}"]},"metadata":{},"sourceType":"module"}